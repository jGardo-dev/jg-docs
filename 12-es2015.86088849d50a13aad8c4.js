(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{"3pp/":function(e,t,r){"use strict";r.r(t),r.d(t,"FilePageModule",(function(){return O}));var i=r("TEn/"),n=r("ofXK"),s=r("3Pt+"),o=r("tyNb"),c=r("fXoL");function a(e,t){if(1&e&&(c.Rb(0,"pre"),c.oc(1),c.Qb()),2&e){const e=c.bc();c.Eb(1),c.pc(e.file.content)}}let l=(()=>{class e{constructor(){}ngOnInit(){}setFile(e){this.file=e}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=c.Ib({type:e,selectors:[["app-default-file-viewer"]],decls:1,vars:1,consts:[[4,"ngIf"]],template:function(e,t){1&e&&c.mc(0,a,2,1,"pre",0),2&e&&c.ec("ngIf",t.file)},directives:[n.i],styles:[""]}),e})();var f=r("Tr1Y");let u=(()=>{class e{constructor(){}ngOnInit(){}setFile(e){this.file=e}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=c.Ib({type:e,selectors:[["app-markdown-file-viewer"]],decls:1,vars:1,consts:[["name","Content","mode","preview","height","100%",3,"ngModel","ngModelChange"]],template:function(e,t){1&e&&(c.Rb(0,"md-editor",0),c.Zb("ngModelChange",(function(e){return t.file.content=e})),c.Qb()),2&e&&c.ec("ngModel",t.file.content)},directives:[f.b,s.e,s.f],styles:["md-editor .preview-panel{background-color:initial!important}"]}),e})(),h=(()=>{class e{constructor(e){this.factoryResolver=e}addViewer(e,t){const r=this.resolveComponentType(t),i=this.factoryResolver.resolveComponentFactory(r).create(e.parentInjector),n=i.instance;return n.setFile(t),e.insert(i.hostView),n}resolveComponentType(e){return e.fileSystemEntry.name.endsWith(".md")?u:l}}return e.\u0275fac=function(t){return new(t||e)(c.Vb(c.l))},e.\u0275prov=c.Kb({token:e,factory:e.\u0275fac}),e})();var b=r("bOdf"),d=r("Cfvw"),p=r("7DJ4"),v=r("YZAu"),m=r("I/6E");const y=["dynamic"];function S(e,t){}let w=(()=>{class e{constructor(e,t,r,i,n,s){this.fileViewerProviderService=e,this.route=t,this.fileSystemFacadeCacheService=r,this.toastService=i,this.refresherService=n,this.router=s}ngAfterViewInit(){this.currentViever=this.fileViewerProviderService.addViewer(this.viewContainerRef,this.file)}ngOnInit(){this.routeDataSubscription=this.route.data.subscribe(e=>{this.file=e.file,this.fileSystemFacade=e.fileSystemFacade,this.currentViever&&this.currentViever.setFile(this.file)})}ngOnDestroy(){this.routeDataSubscription.unsubscribe()}goToItem(e){const t=e.path.substr(1).split("/");this.router.navigate([this.getFileSystemPrefix()].concat(t))}getFileSystemPrefix(){return"/tabs/home/file-system/"+this.file.fileSystemEntry.dataSource.id}doRefresh(e){this.fileSystemFacadeCacheService.refresh(this.fileSystemFacade).pipe(Object(b.a)(()=>{const e=(this.file.fileSystemEntry.path+"-details").split("/");return Object(d.a)(this.router.navigate([this.getFileSystemPrefix()].concat(e),{skipLocationChange:!0,state:{refreshTime:new Date}}))}),this.refresherService.finishRefresher(e),this.toastService.catchErrorAndShowToast()).subscribe()}}return e.\u0275fac=function(t){return new(t||e)(c.Ob(h),c.Ob(o.a),c.Ob(p.a),c.Ob(v.a),c.Ob(m.a),c.Ob(o.g))},e.\u0275cmp=c.Ib({type:e,selectors:[["app-file"]],viewQuery:function(e,t){var r;1&e&&c.rc(y,!0,c.U),2&e&&c.gc(r=c.ac())&&(t.viewContainerRef=r.first)},decls:12,vars:4,consts:[[3,"translucent"],["slot","start"],[3,"fullscreen"],["slot","fixed",3,"ionRefresh"],["dynamic",""]],template:function(e,t){1&e&&(c.Rb(0,"ion-header",0),c.Rb(1,"ion-toolbar"),c.Rb(2,"ion-buttons",1),c.Pb(3,"ion-back-button"),c.Qb(),c.Rb(4,"ion-title"),c.Rb(5,"ion-label"),c.oc(6),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Rb(7,"ion-content",2),c.Rb(8,"ion-refresher",3),c.Zb("ionRefresh",(function(e){return t.doRefresh(e)})),c.Pb(9,"ion-refresher-content"),c.Qb(),c.mc(10,S,0,0,"ng-template",null,4,c.nc),c.Qb()),2&e&&(c.ec("translucent",!0),c.Eb(6),c.qc(" /",null==t.file||null==t.file.fileSystemEntry?null:t.file.fileSystemEntry.dataSource.id,"",null==t.file||null==t.file.fileSystemEntry?null:t.file.fileSystemEntry.path," "),c.Eb(1),c.ec("fullscreen",!0))},directives:[i.i,i.E,i.e,i.b,i.c,i.D,i.q,i.f,i.t,i.u],styles:[""]}),e})();var g=r("Yn41");const F=[{path:"",children:[{path:"**",component:w,runGuardsAndResolvers:"always",resolve:{fileSystemFacade:g.a,file:(()=>{class e{constructor(e,t){this.toastService=e,this.fileSystemFacadeResolverService=t}resolve(e,t){const r=e.url.map(e=>e.path).join("/"),i=r.endsWith("-details")?r.substr(0,r.length-"-details".length):r,n={};return this.fileSystemFacadeResolverService.resolve(e,t).pipe(Object(b.a)(e=>this.resolveForUrlAndParamMap(e,i,n)),this.toastService.catchErrorAndShowToast())}resolveForUrlAndParamMap(e,t,r){return e.resolveFile(t)}}return e.\u0275fac=function(t){return new(t||e)(c.Vb(v.a),c.Vb(g.a))},e.\u0275prov=c.Kb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()}}]}];let R=(()=>{class e{}return e.\u0275mod=c.Mb({type:e}),e.\u0275inj=c.Lb({factory:function(t){return new(t||e)},imports:[[o.i.forChild(F)],o.i]}),e})();var E=r("5M1D");let O=(()=>{class e{}return e.\u0275mod=c.Mb({type:e}),e.\u0275inj=c.Lb({factory:function(t){return new(t||e)},providers:[h],imports:[[i.F,n.b,s.a,R,f.a,E.a]]}),e})()}}]);